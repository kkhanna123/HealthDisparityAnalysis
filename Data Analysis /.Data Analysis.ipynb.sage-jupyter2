{"backend_state":"running","connection_file":"/tmp/xdg-runtime-user/jupyter/kernel-db24a444-f236-496c-b788-8974a0a36978.json","kernel":"python3","kernel_error":"","kernel_state":"idle","kernel_usage":{"cpu":0,"memory":0},"metadata":{"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.8.10"}},"trust":true,"type":"settings"}
{"cell_type":"code","end":1658960969918,"exec_count":1,"id":"00787a","input":"# Basics\nimport pandas as pd\nimport numpy as np\n\n# Reduce anxiety while running code\nfrom tqdm import tqdm\n\n# Plotting\n%matplotlib inline\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Sklearn utilities\nimport sklearn\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import accuracy_score\nfrom sklearn.model_selection import cross_validate\n\n# Sklearn models\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.tree import DecisionTreeRegressor\nfrom sklearn.tree import plot_tree","kernel":"python3","pos":2,"start":1658960967747,"state":"done","type":"cell"}
{"cell_type":"code","end":1658960970663,"exec_count":2,"id":"d75a7c","input":"finalDataset = pd.read_csv(\"../Clean Data/finalDataset.csv\")","kernel":"python3","pos":3,"start":1658960969925,"state":"done","type":"cell"}
{"cell_type":"code","end":1658960970746,"exec_count":3,"id":"146d29","input":"# Dropping redundant columns before beginning with the analysis\nfinalDataset.drop('state',axis=1)\nfinalDataset.drop('county',axis=1)\n\n# Check that the data looks ok\nfinalDataset.head()","kernel":"python3","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>stateInitials</th>\n      <th>stateName</th>\n      <th>countyName</th>\n      <th>countyID</th>\n      <th>tractID</th>\n      <th>population</th>\n      <th>noHealthInsurance%</th>\n      <th>arthritis%</th>\n      <th>bingeDrinking%</th>\n      <th>highBP%</th>\n      <th>...</th>\n      <th>%SomeCollege,NoDegree</th>\n      <th>%AssociatesDegree</th>\n      <th>%BachelorsDegree</th>\n      <th>%GraduateOrProfessionalDegree</th>\n      <th>%PercentHighSchoolGraduateOrHigher</th>\n      <th>%PercentBachelorsDegreeOrHigher</th>\n      <th>%PovertyLessThanHighSchoolGraduate</th>\n      <th>%PovertyHighSchoolGraduate</th>\n      <th>%PovertySomeCollegeOrAssociatesDegree</th>\n      <th>%PovertyBachelorsDegreeOrHigher</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>AZ</td>\n      <td>Arizona</td>\n      <td>Maricopa</td>\n      <td>4013</td>\n      <td>4013422643</td>\n      <td>5789</td>\n      <td>11.9</td>\n      <td>17.0</td>\n      <td>19.9</td>\n      <td>23.7</td>\n      <td>...</td>\n      <td>28.8</td>\n      <td>12.5</td>\n      <td>23.8</td>\n      <td>9.8</td>\n      <td>95.3</td>\n      <td>33.5</td>\n      <td>14.8</td>\n      <td>10.0</td>\n      <td>5.7</td>\n      <td>2.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>CA</td>\n      <td>California</td>\n      <td>Sacramento</td>\n      <td>6067</td>\n      <td>6067007402</td>\n      <td>6180</td>\n      <td>15.4</td>\n      <td>24.6</td>\n      <td>19.6</td>\n      <td>30.5</td>\n      <td>...</td>\n      <td>24.7</td>\n      <td>7.8</td>\n      <td>9.9</td>\n      <td>3.2</td>\n      <td>82.9</td>\n      <td>13.1</td>\n      <td>45.0</td>\n      <td>23.5</td>\n      <td>13.3</td>\n      <td>6.9</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>AL</td>\n      <td>Alabama</td>\n      <td>Madison</td>\n      <td>1089</td>\n      <td>1089000201</td>\n      <td>760</td>\n      <td>25.4</td>\n      <td>36.0</td>\n      <td>10.5</td>\n      <td>53.7</td>\n      <td>...</td>\n      <td>27.3</td>\n      <td>6.0</td>\n      <td>7.8</td>\n      <td>2.5</td>\n      <td>74.3</td>\n      <td>10.3</td>\n      <td>45.8</td>\n      <td>20.4</td>\n      <td>26.4</td>\n      <td>22.6</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>AL</td>\n      <td>Alabama</td>\n      <td>Montgomery</td>\n      <td>1101</td>\n      <td>1101002202</td>\n      <td>1185</td>\n      <td>25.2</td>\n      <td>36.1</td>\n      <td>10.9</td>\n      <td>54.6</td>\n      <td>...</td>\n      <td>12.0</td>\n      <td>3.7</td>\n      <td>3.4</td>\n      <td>0.9</td>\n      <td>68.1</td>\n      <td>4.3</td>\n      <td>35.5</td>\n      <td>26.6</td>\n      <td>19.2</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>AL</td>\n      <td>Alabama</td>\n      <td>Butler</td>\n      <td>1013</td>\n      <td>1013952800</td>\n      <td>1394</td>\n      <td>14.3</td>\n      <td>36.0</td>\n      <td>13.4</td>\n      <td>43.0</td>\n      <td>...</td>\n      <td>17.3</td>\n      <td>10.3</td>\n      <td>20.3</td>\n      <td>13.8</td>\n      <td>91.2</td>\n      <td>34.1</td>\n      <td>19.8</td>\n      <td>21.7</td>\n      <td>10.2</td>\n      <td>10.5</td>\n    </tr>\n  </tbody>\n</table>\n<p>5 rows × 84 columns</p>\n</div>","text/plain":"  stateInitials   stateName  countyName  countyID     tractID  population  \\\n0            AZ     Arizona    Maricopa      4013  4013422643        5789   \n1            CA  California  Sacramento      6067  6067007402        6180   \n2            AL     Alabama     Madison      1089  1089000201         760   \n3            AL     Alabama  Montgomery      1101  1101002202        1185   \n4            AL     Alabama      Butler      1013  1013952800        1394   \n\n   noHealthInsurance%  arthritis%  bingeDrinking%  highBP%  ...  \\\n0                11.9        17.0            19.9     23.7  ...   \n1                15.4        24.6            19.6     30.5  ...   \n2                25.4        36.0            10.5     53.7  ...   \n3                25.2        36.1            10.9     54.6  ...   \n4                14.3        36.0            13.4     43.0  ...   \n\n   %SomeCollege,NoDegree  %AssociatesDegree  %BachelorsDegree  \\\n0                   28.8               12.5              23.8   \n1                   24.7                7.8               9.9   \n2                   27.3                6.0               7.8   \n3                   12.0                3.7               3.4   \n4                   17.3               10.3              20.3   \n\n   %GraduateOrProfessionalDegree  %PercentHighSchoolGraduateOrHigher  \\\n0                            9.8                                95.3   \n1                            3.2                                82.9   \n2                            2.5                                74.3   \n3                            0.9                                68.1   \n4                           13.8                                91.2   \n\n   %PercentBachelorsDegreeOrHigher  %PovertyLessThanHighSchoolGraduate  \\\n0                             33.5                                14.8   \n1                             13.1                                45.0   \n2                             10.3                                45.8   \n3                              4.3                                35.5   \n4                             34.1                                19.8   \n\n   %PovertyHighSchoolGraduate  %PovertySomeCollegeOrAssociatesDegree  \\\n0                        10.0                                    5.7   \n1                        23.5                                   13.3   \n2                        20.4                                   26.4   \n3                        26.6                                   19.2   \n4                        21.7                                   10.2   \n\n   %PovertyBachelorsDegreeOrHigher  \n0                              2.0  \n1                              6.9  \n2                             22.6  \n3                              0.0  \n4                             10.5  \n\n[5 rows x 84 columns]"},"exec_count":3}},"pos":5,"start":1658960970691,"state":"done","type":"cell"}
{"cell_type":"code","end":1658960975079,"exec_count":4,"id":"ea7a7a","input":"def create_regions(initials):\n    midwest = [\"ND\", \"SD\", \"MN\", \"IA\", \"MO\", \"KS\", \"WI\", \"IL\", \"IN\", \"MI\", \"OH\", \"NE\"]\n    west = [\"CA\", \"OR\", \"WA\", \"ID\", \"MT\", \"WY\", \"UT\", \"CO\", \"NM\", \"AZ\", \"AK\", \"HI\", \"NV\"]\n    south = [\"TX\", \"OK\", \"AR\", \"LA\", \"KY\", \"TN\", \"MS\", \"AL\", \"WV\", \"DE\", \"MD\", \"DC\", \"VA\", \"NC\", \"SC\", \"GA\", \"FL\"]\n    northeast = [\"PA\", \"NY\", \"VT\", \"NH\", \"MA\", \"CT\", \"RI\", \"ME\"]\n    regions = []\n    #For each tract's state initials, classify its region based on which region array its initials are in.\n    for initial in initials:\n        if initial in midwest:\n            regions.append(\"MW\")\n        elif initial in west:\n            regions.append(\"W\")\n        elif initial in south:\n            regions.append(\"S\")\n        elif initial in northeast:\n            regions.append(\"NE\")\n        else:\n            #Sanity check (seeing if there is unclassified data)\n            regions.append(\"\")\n    return regions","kernel":"python3","pos":11,"start":1658960975070,"state":"done","type":"cell"}
{"cell_type":"code","end":1658960976653,"exec_count":5,"id":"0ff737","input":"finalDataset[\"regionInitials\"] = create_regions(finalDataset.stateInitials)","kernel":"python3","pos":12,"start":1658960976614,"state":"done","type":"cell"}
{"cell_type":"code","end":1658960991144,"exec_count":7,"id":"d9a037","input":"for race in [\"white\", \"black\", \"asian\", \"hispanic\"]:\n    X = np.array(finalDataset[race])\n    y = np.array(finalDataset[\"badPhysicalHealth%\"])\n\n    plt.scatter(X, y, alpha=0.01)\n    plt.xlabel(f'% {race}', fontsize=12)\n    plt.ylabel('Bad Physical Health Percentage', fontsize=12)\n    plt.title(f'% {race} vs Bad Physical Health', fontsize=14)\n    \n    lm = sklearn.linear_model.LinearRegression()\n    lm.fit(np.reshape(X, (-1, 1)), np.array(y))\n    x_pred = np.linspace(0, 100, 100)\n    y_pred = lm.predict(np.reshape(x_pred, (-1, 1)))\n    \n    plt.plot(x_pred, y_pred, color=\"red\", linewidth=5)\n    plt.ylim(0, 40)\n    plt.show()","kernel":"python3","output":{"0":{"data":{"image/png":"3c08617772b279ae22e503d7fcaaba288e9345a4","text/plain":"<Figure size 432x288 with 1 Axes>"},"metadata":{"image/png":{"height":281,"width":385},"needs_background":"light"}},"1":{"data":{"image/png":"7d541bd778d065035ceb5df1280650345951d636","text/plain":"<Figure size 432x288 with 1 Axes>"},"metadata":{"image/png":{"height":281,"width":385},"needs_background":"light"}},"2":{"data":{"image/png":"5279a91a0116d15c1b0eccf5a8584f79c1a5ed45","text/plain":"<Figure size 432x288 with 1 Axes>"},"metadata":{"image/png":{"height":281,"width":385},"needs_background":"light"}},"3":{"data":{"image/png":"455c9fb4ebf094064d964dab2f02ef3f4c3950ca","text/plain":"<Figure size 432x288 with 1 Axes>"},"metadata":{"image/png":{"height":281,"width":385},"needs_background":"light"}}},"pos":16,"start":1658960988537,"state":"done","type":"cell"}
{"cell_type":"code","end":1658968053469,"exec_count":38,"id":"44fd21","input":"# Set up common inputs for the models to choose from\nX_cols = ['noHealthInsurance%', 'men', 'women', 'hispanic', 'white', 'black', 'native',\n       'asian', 'pacific','incomePerCap', 'poverty', 'childPoverty',\n       'professional', 'service', 'office', 'construction', 'production',\n       'drive', 'carpool', 'transit', 'walk', 'otherTransp', 'workAtHome',\n       'meanCommute', 'employed', 'privateWork', 'publicWork', 'selfEmployed',\n       'familyWork', 'unemployment', '%LessThan9thGrade',\n       '%HighSchoolGraduate', '%SomeCollege,NoDegree', '%AssociatesDegree',\n       '%BachelorsDegree', '%GraduateOrProfessionalDegree',\n       '%PercentHighSchoolGraduateOrHigher', '%PercentBachelorsDegreeOrHigher',\n       '%PovertyLessThanHighSchoolGraduate', '%PovertyHighSchoolGraduate',\n       '%PovertySomeCollegeOrAssociatesDegree',\n       '%PovertyBachelorsDegreeOrHigher']\ny_cols = ['stroke%', 'depression%',\n          'highBP%', 'nonSkinCancer%', 'currentAsthma%',\n          'arthritis%', 'cervicalCancer%', 'coronaryHeartDisease%',\n          'chronicObstructivePulmonaryDisease%',\n          'diabetes%',\n          'highCholestorol%', 'chronicKidneyDisease%',\n          'obesity%', 'allTeethLost%',\n          'badMentalHealth%', 'badPhysicalHealth%']\n\nX = finalDataset[X_cols]\ny_all = [finalDataset[col] for col in y_cols]","kernel":"python3","pos":27,"start":1658968053464,"state":"done","type":"cell"}
{"cell_type":"code","end":1658968073936,"exec_count":39,"id":"9a5800","input":"for healthIndicator in y_cols:\n    dtr = DecisionTreeRegressor(max_depth = 2)\n\n    Xtrain,Xtest,Ytrain,Ytest = train_test_split(X, finalDataset[healthIndicator], test_size=0.2, random_state=11)\n\n    dtr.fit(Xtrain,Ytrain)\n    fig = plt.figure(figsize=(10, 10))\n\n    plot_tree(dtr,feature_names=['noHealthInsurance%', 'men', 'women', 'hispanic', 'white', 'black', 'native',\n       'asian', 'pacific','incomePerCap', 'poverty', 'childPoverty',\n       'professional', 'service', 'office', 'construction', 'production',\n       'drive', 'carpool', 'transit', 'walk', 'otherTransp', 'workAtHome',\n       'meanCommute', 'employed', 'privateWork', 'publicWork', 'selfEmployed',\n       'familyWork', 'unemployment', '%LessThan9thGrade',\n       '%HighSchoolGraduate', '%SomeCollege,NoDegree', '%AssociatesDegree',\n       '%BachelorsDegree', '%GraduateOrProfessionalDegree',\n       '%PercentHighSchoolGraduateOrHigher', '%PercentBachelorsDegreeOrHigher',\n       '%PovertyLessThanHighSchoolGraduate', '%PovertyHighSchoolGraduate',\n       '%PovertySomeCollegeOrAssociatesDegree',\n       '%PovertyBachelorsDegreeOrHigher'])\n    plt.title(healthIndicator+\" R2 score \" + str(dtr.score(Xtest,Ytest)),fontsize=15)\n    plt.show()","kernel":"python3","output":{"0":{"data":{"image/png":"60416247026498f72b3109b5e75f59ed4b60cd97","text/plain":"<Figure size 720x720 with 1 Axes>"},"metadata":{"image/png":{"height":575,"width":572},"needs_background":"light"}},"1":{"data":{"image/png":"a823882c18cc1fdf02dbfaf8bf167e584e0e693b","text/plain":"<Figure size 720x720 with 1 Axes>"},"metadata":{"image/png":{"height":575,"width":572},"needs_background":"light"}},"10":{"data":{"image/png":"00d3720f5afa70e288a6cda4ba12dcd62885f017","text/plain":"<Figure size 720x720 with 1 Axes>"},"metadata":{"image/png":{"height":575,"width":572},"needs_background":"light"}},"11":{"data":{"image/png":"a5e0a47e84f96d901db49dcb2005e1bbcf591920","text/plain":"<Figure size 720x720 with 1 Axes>"},"metadata":{"image/png":{"height":575,"width":572},"needs_background":"light"}},"12":{"data":{"image/png":"263d63414f3751cf79ec63fddb8baeabf39100fa","text/plain":"<Figure size 720x720 with 1 Axes>"},"metadata":{"image/png":{"height":575,"width":572},"needs_background":"light"}},"13":{"data":{"image/png":"1771f0c249fe6f60b1cb74fa50dc6352bc3839b0","text/plain":"<Figure size 720x720 with 1 Axes>"},"metadata":{"image/png":{"height":575,"width":572},"needs_background":"light"}},"14":{"data":{"image/png":"968f8715c7b333a0ba1ac4764e2a2b50b46e00dd","text/plain":"<Figure size 720x720 with 1 Axes>"},"metadata":{"image/png":{"height":575,"width":572},"needs_background":"light"}},"15":{"data":{"image/png":"0dc724e8c1db7d474743da7831060cbd7f209857","text/plain":"<Figure size 720x720 with 1 Axes>"},"metadata":{"image/png":{"height":575,"width":572},"needs_background":"light"}},"2":{"data":{"image/png":"728fd55018e3edc37645e5bf66a428450dbb86b6","text/plain":"<Figure size 720x720 with 1 Axes>"},"metadata":{"image/png":{"height":575,"width":572},"needs_background":"light"}},"3":{"data":{"image/png":"a67a9fba4e0d1a13224ae66b4651a1701efebe36","text/plain":"<Figure size 720x720 with 1 Axes>"},"metadata":{"image/png":{"height":575,"width":572},"needs_background":"light"}},"4":{"data":{"image/png":"71c7928623f548287fe78a191ab260917c8767f9","text/plain":"<Figure size 720x720 with 1 Axes>"},"metadata":{"image/png":{"height":575,"width":572},"needs_background":"light"}},"5":{"data":{"image/png":"e40106accc6ef211202885c0a4cca74e401236c0","text/plain":"<Figure size 720x720 with 1 Axes>"},"metadata":{"image/png":{"height":575,"width":572},"needs_background":"light"}},"6":{"data":{"image/png":"c8cc0bafcc5fe3f0d0fe3a83ca870bb3e40e9aeb","text/plain":"<Figure size 720x720 with 1 Axes>"},"metadata":{"image/png":{"height":575,"width":572},"needs_background":"light"}},"7":{"data":{"image/png":"c5533fd07830d8f59b5f06c9d1f87c7b8d248033","text/plain":"<Figure size 720x720 with 1 Axes>"},"metadata":{"image/png":{"height":575,"width":572},"needs_background":"light"}},"8":{"data":{"image/png":"0aeced4e445df787724885ada0b6a22b73d39eb7","text/plain":"<Figure size 720x720 with 1 Axes>"},"metadata":{"image/png":{"height":575,"width":572},"needs_background":"light"}},"9":{"data":{"image/png":"272baa34e316fd7d4a243b7ff6f8c26dc4b8abe6","text/plain":"<Figure size 720x720 with 1 Axes>"},"metadata":{"image/png":{"height":575,"width":572},"needs_background":"light"}}},"pos":28,"scrolled":true,"start":1658968053813,"state":"done","type":"cell"}
{"cell_type":"code","exec_count":10,"id":"af18e4","input":"# Set graph size\nsns.set(rc = {'figure.figsize':(8,5)})\n\n# All Health Indicators against poverty and HS Graduation Status for Tract\nfor condition in ['arthritis%',\n       'highBP%','nonSkinCancer%', 'currentAsthma%', 'coronaryHeartDisease%',\n       'chronicObstructivePulmonaryDisease%', 'depression%', 'diabetes%', 'highCholestorol%', 'chronicKidneyDisease%',\n       'badMentalHealth%', 'obesity%', 'badPhysicalHealth%','stroke%', 'allTeethLost%']:\n    \n    # fit line through data to give an idea of general trend\n    lm = LinearRegression()\n    lm.fit(finalDataset[['poverty']],finalDataset[condition])\n    \n    # Linear Regression Line for idea of General Trend\n    plt.plot(finalDataset['poverty'], lm.predict(finalDataset[['poverty']]),c='SkyBlue',linewidth=6)\n    \n    # Scatter plot of Real Data\n    plt.scatter(finalDataset['poverty'],finalDataset[condition], c=finalDataset[\"%PercentHighSchoolGraduateOrHigher\"],cmap='plasma',s=4)\n    plt.xlabel(\"Poverty Rate of Tract\")\n    plt.ylabel(\"Percentage with \"+condition[:-1]+\" per Tract\")\n    plt.title(\"Percentage with \"+condition[:-1]+\" versus Poverty\")\n    plt.show()\n    \n    # Plot scale to give meaning to the gradient of. each point... The yellower the points are, the more percentage of the tract graduating High School\n    f = plt.figure()\n    f.set_figwidth(1)\n    f.set_figheight(5)\n    plt.scatter(np.zeros_like(finalDataset[\"%PercentHighSchoolGraduateOrHigher\"]),finalDataset[\"%PercentHighSchoolGraduateOrHigher\"],c=finalDataset[\"%PercentHighSchoolGraduateOrHigher\"],s=500,marker=\"s\",cmap='plasma')\n    plt.xticks([])\n    plt.title('Percent of HS Graduate or Higher Colour Scale', fontsize=15)\n    plt.show()\n    \n    # Plot residuals to help determine heteroskedacicity\n    plt.scatter(finalDataset['poverty'], finalDataset[condition]-lm.predict(finalDataset[['poverty']]),c=finalDataset[\"%PercentHighSchoolGraduateOrHigher\"],cmap='plasma',s=4)\n    plt.xlabel(\"Poverty Rate of Tract\")\n    plt.ylabel(f\"Percentage with {condition[:-1]} residual\")\n    plt.title(f\"Percentage with {condition[:-1]} linear residuals\")\n    plt.show()","output":{"0":{"data":{"image/png":"c3852a1e4a4dc28584856f8f045ff0a92a7c3151","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":500}},"output_type":"execute_result"},"1":{"data":{"image/png":"88abd2462a42864c568d55936e4ab16d105ad82e","text/plain":"<Figure size 72x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":303,"width":364}},"output_type":"execute_result"},"10":{"data":{"image/png":"88abd2462a42864c568d55936e4ab16d105ad82e","text/plain":"<Figure size 72x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":303,"width":364}},"output_type":"execute_result"},"11":{"data":{"image/png":"d5767a313c340b380f276f9e4b9a8c07c8904cb4","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":502}},"output_type":"execute_result"},"12":{"data":{"image/png":"e69e1bbd98b33b7abecf70b7b046754f501f3c8d","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":500}},"output_type":"execute_result"},"13":{"data":{"image/png":"88abd2462a42864c568d55936e4ab16d105ad82e","text/plain":"<Figure size 72x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":303,"width":364}},"output_type":"execute_result"},"14":{"data":{"image/png":"79ee3d8bbd1b341c7783af94e5f3ff7ea21a9c72","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":509}},"output_type":"execute_result"},"15":{"data":{"image/png":"636ad1e21a91924e952d15bac826b5632059a55c","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":396,"width":500}},"output_type":"execute_result"},"16":{"data":{"image/png":"88abd2462a42864c568d55936e4ab16d105ad82e","text/plain":"<Figure size 72x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":303,"width":364}},"output_type":"execute_result"},"17":{"data":{"image/png":"e0322aef0c81252708d7f2edfa83937f9961a525","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":391,"width":509}},"output_type":"execute_result"},"18":{"data":{"image/png":"0aa7df43bb3de1020fcdd40836ca40bcda8c7e56","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":500}},"output_type":"execute_result"},"19":{"data":{"image/png":"88abd2462a42864c568d55936e4ab16d105ad82e","text/plain":"<Figure size 72x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":303,"width":364}},"output_type":"execute_result"},"2":{"data":{"image/png":"a7329fc8c4944c2e0cd9f50cf5e28914743d8725","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":509}},"output_type":"execute_result"},"20":{"data":{"image/png":"9245b2a719064946d47f8b9ae54424eff9e94bd6","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":509}},"output_type":"execute_result"},"21":{"data":{"image/png":"4be3a807c2c8a6797114d77189f697b5956fecd2","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":500}},"output_type":"execute_result"},"22":{"data":{"image/png":"88abd2462a42864c568d55936e4ab16d105ad82e","text/plain":"<Figure size 72x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":303,"width":364}},"output_type":"execute_result"},"23":{"data":{"image/png":"ea1eb8381ed7aab789ca6939dafd663dfb705033","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":509}},"output_type":"execute_result"},"24":{"data":{"image/png":"d6136923a45175debd35d152b45c47c8f90141b9","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":500}},"output_type":"execute_result"},"25":{"data":{"image/png":"88abd2462a42864c568d55936e4ab16d105ad82e","text/plain":"<Figure size 72x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":303,"width":364}},"output_type":"execute_result"},"26":{"data":{"image/png":"63f44fa4c59a63c57eb52575ffb7f2ee1054a78a","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":509}},"output_type":"execute_result"},"27":{"data":{"image/png":"269c5667844db52a3dbd6364382cfd762d9cb9f1","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":500}},"output_type":"execute_result"},"28":{"data":{"image/png":"88abd2462a42864c568d55936e4ab16d105ad82e","text/plain":"<Figure size 72x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":303,"width":364}},"output_type":"execute_result"},"29":{"data":{"image/png":"e7a19bc87d157851191b3a9be8562aa9bbad2a71","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":502}},"output_type":"execute_result"},"3":{"data":{"image/png":"70fc3a04077c6f884d4b67a5e711f24d7922bd0e","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":500}},"output_type":"execute_result"},"30":{"data":{"image/png":"642b448e8b7b1f1f4b6bf9641844bc93879b1f2a","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":500}},"output_type":"execute_result"},"31":{"data":{"image/png":"88abd2462a42864c568d55936e4ab16d105ad82e","text/plain":"<Figure size 72x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":303,"width":364}},"output_type":"execute_result"},"32":{"data":{"image/png":"1cc2e20dc7a82937cef87c302e01883cddcb1dcb","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":509}},"output_type":"execute_result"},"33":{"data":{"image/png":"6e946ed89077032be5101f3a3f1f6d9c0bc28b6c","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":500}},"output_type":"execute_result"},"34":{"data":{"image/png":"88abd2462a42864c568d55936e4ab16d105ad82e","text/plain":"<Figure size 72x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":303,"width":364}},"output_type":"execute_result"},"35":{"data":{"image/png":"621389751f7ac12acfd94bd0e20e057a2f52f32b","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":509}},"output_type":"execute_result"},"36":{"data":{"image/png":"79b0a2f35a92ea3822f2a48149427f31841bab35","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":500}},"output_type":"execute_result"},"37":{"data":{"image/png":"88abd2462a42864c568d55936e4ab16d105ad82e","text/plain":"<Figure size 72x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":303,"width":364}},"output_type":"execute_result"},"38":{"data":{"image/png":"86f2c1adc124efd555b0c5818be4062fb7129774","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":509}},"output_type":"execute_result"},"39":{"data":{"image/png":"e7508c451417c526486b84158131d9d6ea3386fa","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":500}},"output_type":"execute_result"},"4":{"data":{"image/png":"88abd2462a42864c568d55936e4ab16d105ad82e","text/plain":"<Figure size 72x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":303,"width":364}},"output_type":"execute_result"},"40":{"data":{"image/png":"88abd2462a42864c568d55936e4ab16d105ad82e","text/plain":"<Figure size 72x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":303,"width":364}},"output_type":"execute_result"},"41":{"data":{"image/png":"127c8645d7f645f25c96ce1e634772dd69c5e848","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":502}},"output_type":"execute_result"},"42":{"data":{"image/png":"6e0dd76c1672987cf591c4017275bb1768b2a5cb","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":500}},"output_type":"execute_result"},"43":{"data":{"image/png":"88abd2462a42864c568d55936e4ab16d105ad82e","text/plain":"<Figure size 72x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":303,"width":364}},"output_type":"execute_result"},"44":{"data":{"image/png":"c009cb791345c679966313d8d9fcbb129dd3be30","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":509}},"output_type":"execute_result"},"5":{"data":{"image/png":"62b429d93192ec913c1903e38b851090c26c693f","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":509}},"output_type":"execute_result"},"6":{"data":{"image/png":"4aac05ef7f0a84521a13dec6d98cd24d1e261acf","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":510}},"output_type":"execute_result"},"7":{"data":{"image/png":"88abd2462a42864c568d55936e4ab16d105ad82e","text/plain":"<Figure size 72x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":303,"width":364}},"output_type":"execute_result"},"8":{"data":{"image/png":"4649b31dd670f886adcb8ca3bb2fc466f99efe83","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":512}},"output_type":"execute_result"},"9":{"data":{"image/png":"bc51a314377987d947103097b7705e23e5b7d0a8","text/plain":"<Figure size 576x360 with 1 Axes>"},"exec_count":10,"metadata":{"image/png":{"height":337,"width":500}},"output_type":"execute_result"}},"pos":21,"scrolled":true,"type":"cell"}
{"cell_type":"code","exec_count":11,"id":"71d458","input":"# Plot\nplt.hist(finalDataset[finalDataset[\"%PercentHighSchoolGraduateOrHigher\"]>=70][\"badPhysicalHealth%\"],bins=np.arange(0,50,1),label='>70% HS Graduates',color='Skyblue',density=True)\nplt.hist(finalDataset[finalDataset[\"%PercentHighSchoolGraduateOrHigher\"]<70][\"badPhysicalHealth%\"],bins=np.arange(0,50,1),label='<70% HS Graduates',color='Red', alpha=0.5,density=True)\n\n# Formatting\nplt.ylabel('# of Tracts (Normalized)',fontsize=13)\nplt.xlabel('% Bad Physical Health',fontsize=13)\nplt.title('Histogram of Physical Health based on HS Graduation Status\\n',fontsize=15)\nplt.legend(fontsize=13)\n\nplt.show()","output":{"0":{"data":{"image/png":"ac1bc91969cf38ac069309affaefc85a50cf0757","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":11,"metadata":{"image/png":{"height":299,"width":472},"needs_background":"light"},"output_type":"execute_result"}},"pos":19,"scrolled":true,"type":"cell"}
{"cell_type":"code","exec_count":12,"id":"973696","input":"def best_cross_model(model, X_train, y_train, X_test, y_test, k):\n    estimators = cross_validate(model, X_train, y_train, cv=k, return_estimator=True, n_jobs=-1)[\"estimator\"]\n    scores = [estimator.score(X_test, y_test) for estimator in estimators]\n    best_score = scores[0]\n    best_i = 0\n    for i, score in enumerate(scores[1:]):\n        if score > best_score:\n            best_i = i+1\n            best_score = score\n    return estimators[best_i], best_score, scores","pos":35,"type":"cell"}
{"cell_type":"code","exec_count":20,"id":"9e26ea","input":"# Setup\ndepth_options = np.arange(2, 30, 2)\nall_train_scores = []\nall_test_scores = []\n\n# Predict all health outcomes again\nfor col in tqdm(y_cols):\n    # Set up variables\n    y = finalDataset[col]\n    X_train, X_test, y_train, y_test = train_test_split(X, y, random_state=42, test_size=0.2)\n\n    # Set up graph X and y\n    train_scores = []\n    test_scores = []\n\n    # Test all depths and record scores\n    for depth in depth_options:\n        rfr = DecisionTreeRegressor(max_depth=depth)\n        rfr.fit(X_train, y_train)\n        train_scores.append(rfr.score(X_train, y_train))\n        test_scores.append(rfr.score(X_test, y_test))\n\n    # Normalize and record scores across depths\n    all_train_scores.append(normalize_list(train_scores))\n    all_test_scores.append(normalize_list(test_scores))\n\n# Plot Training\nfor scores in all_train_scores:\n    plt.plot(depth_options, scores, c=\"blue\", alpha=0.3)\n\n# Plot Testing\nfor scores in all_test_scores:\n    plt.plot(depth_options, scores, c=\"red\", alpha=0.3)\n\n# Formatting\nplt.title(\"Decision tree performance across max depth\")\nplt.xlabel(\"Max Depth\")\nplt.ylabel(\"Normalized R2\")\nplt.show()\n\n# Blue is training accuracy, red is testing accuracy","output":{"0":{"name":"stderr","output_type":"stream","text":"\r  0%|          | 0/21 [00:00<?, ?it/s]"},"1":{"name":"stderr","output_type":"stream","text":"\r  5%|▍         | 1/21 [00:25<08:33, 25.68s/it]"},"10":{"name":"stderr","output_type":"stream","text":"\r 48%|████▊     | 10/21 [04:26<04:50, 26.45s/it]"},"11":{"name":"stderr","output_type":"stream","text":"\r 52%|█████▏    | 11/21 [04:53<04:24, 26.47s/it]"},"12":{"name":"stderr","output_type":"stream","text":"\r 57%|█████▋    | 12/21 [05:20<04:00, 26.71s/it]"},"13":{"name":"stderr","output_type":"stream","text":"\r 62%|██████▏   | 13/21 [05:48<03:36, 27.02s/it]"},"14":{"name":"stderr","output_type":"stream","text":"\r 67%|██████▋   | 14/21 [06:12<03:02, 26.07s/it]"},"15":{"name":"stderr","output_type":"stream","text":"\r 71%|███████▏  | 15/21 [06:38<02:37, 26.28s/it]"},"16":{"name":"stderr","output_type":"stream","text":"\r 76%|███████▌  | 16/21 [07:03<02:09, 25.80s/it]"},"17":{"name":"stderr","output_type":"stream","text":"\r 81%|████████  | 17/21 [07:28<01:41, 25.44s/it]"},"18":{"name":"stderr","output_type":"stream","text":"\r 86%|████████▌ | 18/21 [07:56<01:18, 26.16s/it]"},"19":{"name":"stderr","output_type":"stream","text":"\r 90%|█████████ | 19/21 [08:24<00:53, 26.84s/it]"},"2":{"name":"stderr","output_type":"stream","text":"\r 10%|▉         | 2/21 [00:53<08:32, 26.96s/it]"},"20":{"name":"stderr","output_type":"stream","text":"\r 95%|█████████▌| 20/21 [08:51<00:27, 27.00s/it]"},"21":{"name":"stderr","output_type":"stream","text":"\r100%|██████████| 21/21 [09:16<00:00, 26.36s/it]"},"22":{"name":"stderr","output_type":"stream","text":"\r100%|██████████| 21/21 [09:16<00:00, 26.51s/it]"},"23":{"name":"stderr","output_type":"stream","text":"\n"},"24":{"data":{"image/png":"14c9a865fbabec5d785fd0bcaed47d292484e0b0","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":20,"metadata":{"image/png":{"height":277,"width":385},"needs_background":"light"},"output_type":"execute_result"},"3":{"name":"stderr","output_type":"stream","text":"\r 14%|█▍        | 3/21 [01:19<07:54, 26.39s/it]"},"4":{"name":"stderr","output_type":"stream","text":"\r 19%|█▉        | 4/21 [01:46<07:33, 26.66s/it]"},"5":{"name":"stderr","output_type":"stream","text":"\r 24%|██▍       | 5/21 [02:12<07:06, 26.65s/it]"},"6":{"name":"stderr","output_type":"stream","text":"\r 29%|██▊       | 6/21 [02:39<06:41, 26.75s/it]"},"7":{"name":"stderr","output_type":"stream","text":"\r 33%|███▎      | 7/21 [03:08<06:23, 27.41s/it]"},"8":{"name":"stderr","output_type":"stream","text":"\r 38%|███▊      | 8/21 [03:33<05:47, 26.74s/it]"},"9":{"name":"stderr","output_type":"stream","text":"\r 43%|████▎     | 9/21 [04:01<05:24, 27.03s/it]"}},"pos":31,"type":"cell"}
{"cell_type":"code","exec_count":23,"id":"2c1f04","input":"plt.scatter(finalDataset['income'],finalDataset['badPhysicalHealth%'])\nplt.xlabel('Income')\nplt.ylabel('Bad Physical Health Percentage')\nplt.title('Bad Physical Health(Aggregated) vs Income')\n\nX = np.array(finalDataset['income'])\ny = finalDataset['badPhysicalHealth%']\nX_train, X_test, y_train, y_test = train_test_split(X,y,test_size=0.2)\npm = np.polyfit(X_train, y_train, 4)\n\nx_linspace = np.linspace(min(X_train), max(X_train), 100)\ny_linspace = [np.polyval(pm, x) for x in x_linspace]\nplt.plot(x_linspace, y_linspace, color=\"red\", linewidth=5)\nplt.show()\n\ny_pred = np.array([np.polyval(pm, x) for x in X])\nplt.scatter(X, np.array(y)-y_pred)\nplt.title(\"Bad Physical Health(Aggregated) vs Income RESIDUALS\")\nplt.xlabel(\"Income\")\nplt.ylabel(\"Bad Health Percentage Residual\")\nplt.show()","output":{"0":{"data":{"image/png":"f995519b801b55a5056b711f1235e5238a984e25","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":23,"metadata":{"image/png":{"height":277,"width":386},"needs_background":"light"},"output_type":"execute_result"},"1":{"data":{"image/png":"3967b7433f14e53294c4690ed8dc8fc8f5f11878","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":23,"metadata":{"image/png":{"height":277,"width":395},"needs_background":"light"},"output_type":"execute_result"}},"pos":24,"type":"cell"}
{"cell_type":"code","exec_count":31,"id":"3396e6","input":"# Returns list where all values are scaled to be in [0, 1]\ndef normalize_list(l):\n    l = np.array(l)\n    l = l - min(l)\n    l = l / max(l)\n    return l","pos":30,"type":"cell"}
{"cell_type":"code","exec_count":36,"id":"5cab12","input":"# Setup\ndepth_options = np.arange(2, 31, 4)\nall_train_scores = []\nall_test_scores = []\n\n# Predict all health outcomes again\nfor col in tqdm(y_cols):\n    # Set up variables\n    y = finalDataset[col]\n    X_train, X_test, y_train, y_test = train_test_split(X, y, random_state=42, test_size=0.2)\n\n    # Set up graph X and y\n    train_scores = []\n    test_scores = []\n\n    # Test all depths and record scores\n    for depth in depth_options:\n        forest = RandomForestRegressor(max_depth=depth, n_estimators=10, n_jobs=-1)\n        forest.fit(X_train, y_train)\n        train_scores.append(forest.score(X_train, y_train))\n        test_scores.append(forest.score(X_test, y_test))\n\n    # Normalize and record scores across depths\n    all_train_scores.append(normalize_list(train_scores))\n    all_test_scores.append(normalize_list(test_scores))\n\n# Plot Training\nfor scores in all_train_scores:\n    plt.plot(depth_options, scores, c=\"blue\", alpha=0.3)\n\n# Plot Testing\nfor scores in all_test_scores:\n    plt.plot(depth_options, scores, c=\"red\", alpha=0.3)\n\n# Formatting\nplt.title(\"Random Forest (10 trees) performance across max depth\")\nplt.xlabel(\"Max Depth\")\nplt.ylabel(\"Normalized R2\")\nplt.show()\n\n# Blue is training accuracy, red is testing accuracy","output":{"0":{"name":"stderr","output_type":"stream","text":"\r  0%|          | 0/21 [00:00<?, ?it/s]"},"1":{"name":"stderr","output_type":"stream","text":"\r  5%|▍         | 1/21 [00:59<19:55, 59.76s/it]"},"10":{"name":"stderr","output_type":"stream","text":"\r 48%|████▊     | 10/21 [09:22<10:04, 54.95s/it]"},"11":{"name":"stderr","output_type":"stream","text":"\r 52%|█████▏    | 11/21 [10:19<09:17, 55.76s/it]"},"12":{"name":"stderr","output_type":"stream","text":"\r 57%|█████▋    | 12/21 [11:13<08:15, 55.10s/it]"},"13":{"name":"stderr","output_type":"stream","text":"\r 62%|██████▏   | 13/21 [12:10<07:25, 55.63s/it]"},"14":{"name":"stderr","output_type":"stream","text":"\r 67%|██████▋   | 14/21 [13:04<06:25, 55.14s/it]"},"15":{"name":"stderr","output_type":"stream","text":"\r 71%|███████▏  | 15/21 [13:55<05:24, 54.02s/it]"},"16":{"name":"stderr","output_type":"stream","text":"\r 76%|███████▌  | 16/21 [14:46<04:24, 52.97s/it]"},"17":{"name":"stderr","output_type":"stream","text":"\r 81%|████████  | 17/21 [15:35<03:27, 51.93s/it]"},"18":{"name":"stderr","output_type":"stream","text":"\r 86%|████████▌ | 18/21 [16:25<02:33, 51.16s/it]"},"19":{"name":"stderr","output_type":"stream","text":"\r 90%|█████████ | 19/21 [17:13<01:40, 50.27s/it]"},"2":{"name":"stderr","output_type":"stream","text":"\r 10%|▉         | 2/21 [01:52<17:35, 55.54s/it]"},"20":{"name":"stderr","output_type":"stream","text":"\r 95%|█████████▌| 20/21 [18:03<00:50, 50.12s/it]"},"21":{"name":"stderr","output_type":"stream","text":"\r100%|██████████| 21/21 [18:59<00:00, 51.99s/it]"},"22":{"name":"stderr","output_type":"stream","text":"\r100%|██████████| 21/21 [18:59<00:00, 54.26s/it]"},"23":{"name":"stderr","output_type":"stream","text":"\n"},"24":{"data":{"image/png":"a59ee23ba1beed22a926ad09cc4e8d8fab2bffb4","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":36,"metadata":{"image/png":{"height":277,"width":390},"needs_background":"light"},"output_type":"execute_result"},"3":{"name":"stderr","output_type":"stream","text":"\r 14%|█▍        | 3/21 [02:45<16:21, 54.54s/it]"},"4":{"name":"stderr","output_type":"stream","text":"\r 19%|█▉        | 4/21 [03:45<15:59, 56.44s/it]"},"5":{"name":"stderr","output_type":"stream","text":"\r 24%|██▍       | 5/21 [04:45<15:26, 57.88s/it]"},"6":{"name":"stderr","output_type":"stream","text":"\r 29%|██▊       | 6/21 [05:44<14:35, 58.38s/it]"},"7":{"name":"stderr","output_type":"stream","text":"\r 33%|███▎      | 7/21 [06:41<13:27, 57.67s/it]"},"8":{"name":"stderr","output_type":"stream","text":"\r 38%|███▊      | 8/21 [07:35<12:18, 56.79s/it]"},"9":{"name":"stderr","output_type":"stream","text":"\r 43%|████▎     | 9/21 [08:28<11:05, 55.48s/it]"}},"pos":33,"type":"cell"}
{"cell_type":"code","exec_count":4,"id":"88adc0","input":"finalDataset.columns","output":{"0":{"data":{"text/plain":"Index(['stateInitials', 'stateName', 'countyName', 'countyID', 'tractID',\n       'population', 'noHealthInsurance%', 'arthritis%', 'bingeDrinking%',\n       'highBP%', 'medicineToLowerBP%', 'nonSkinCancer%', 'currentAsthma%',\n       'cervicalCancer%', 'coronaryHeartDisease%', 'routineCheckUp%',\n       'cholestorolScreening%', 'colonScreening%',\n       'chronicObstructivePulmonaryDisease%',\n       'menUpToDateOnVaccinesAndScreenings%',\n       'womenUpToDateOnVaccinesAndScreenings%', 'currentSmoking%',\n       'routineDentalCheckup%', 'depression%', 'diabetes%',\n       'fairOrGoodHealth%', 'highCholestorol%', 'chronicKidneyDisease%',\n       'noLeisurelyPhysicalActivity%', 'mammographyUseWomen%',\n       'badMentalHealth%', 'obesity%', 'badPhysicalHealth%',\n       'lessThan7HoursOfSleep%', 'stroke%', 'allTeethLost%', 'state', 'county',\n       'totalPop', 'men', 'women', 'hispanic', 'white', 'black', 'native',\n       'asian', 'pacific', 'votingAgeCitizen', 'income', 'incomeErr',\n       'incomePerCap', 'incomePerCapErr', 'poverty', 'childPoverty',\n       'professional', 'service', 'office', 'construction', 'production',\n       'drive', 'carpool', 'transit', 'walk', 'otherTransp', 'workAtHome',\n       'meanCommute', 'employed', 'privateWork', 'publicWork', 'selfEmployed',\n       'familyWork', 'unemployment', '%LessThan9thGrade',\n       '%HighSchoolGraduate', '%SomeCollege,NoDegree', '%AssociatesDegree',\n       '%BachelorsDegree', '%GraduateOrProfessionalDegree',\n       '%PercentHighSchoolGraduateOrHigher', '%PercentBachelorsDegreeOrHigher',\n       '%PovertyLessThanHighSchoolGraduate', '%PovertyHighSchoolGraduate',\n       '%PovertySomeCollegeOrAssociatesDegree',\n       '%PovertyBachelorsDegreeOrHigher'],\n      dtype='object')"},"exec_count":4,"output_type":"execute_result"}},"pos":7,"scrolled":true,"type":"cell"}
{"cell_type":"code","exec_count":5,"id":"87ca30","input":"# Set graph size\nsns.set(rc = {'figure.figsize':(25,20)})\n\n# Generate and label heatmap with all columns except for the first 5 (state, county, and tract information)\nsns.heatmap(np.abs(finalDataset[finalDataset.columns[5:]].corr()), cmap=\"plasma\")\nplt.title(\"Health and Socioeconomic Data Heat Map\", fontsize=12)\nplt.show()","output":{"0":{"data":{"image/png":"dd7cdf7722449faeca73c5e3e212ced204bfa60a","text/plain":"<Figure size 1800x1440 with 2 Axes>"},"exec_count":5,"metadata":{"image/png":{"height":1376,"width":1540}},"output_type":"execute_result"}},"pos":9,"scrolled":true,"type":"cell"}
{"cell_type":"code","exec_count":72,"id":"7ba2b5","input":"regions = finalDataset[\"regionInitials\"].unique()\nfor region in regions:\n    plt.hist(finalDataset[finalDataset[\"regionInitials\"] == region][\"badPhysicalHealth%\"], density=True, bins=np.linspace(0, 35, 30), label=region)\n    plt.hist(finalDataset[\"badPhysicalHealth%\"], density=True, bins=np.linspace(0, 35, 30), label=\"All\", histtype=\"step\", linewidth=2)\n    plt.title(f\"Normalized Physical Health Distribution in {region}\", fontsize=14)\n    plt.xlabel(\"% Bad Physical Health\", fontsize=12)\n    plt.ylabel(\"Count\", fontsize=12)\n    plt.legend()\n    plt.ylim(0, 0.15)\n    plt.show()","output":{"0":{"data":{"image/png":"30edbd15578fffd44336eae315740f256b59ad84","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":72,"metadata":{"image/png":{"height":281,"width":394},"needs_background":"light"},"output_type":"execute_result"},"1":{"data":{"image/png":"dc6958adf501c46e149a6fc5eeec7851aee76e04","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":72,"metadata":{"image/png":{"height":281,"width":394},"needs_background":"light"},"output_type":"execute_result"},"2":{"data":{"image/png":"d00ad2d9fd18060f2311054d5b4ddd5c00eea738","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":72,"metadata":{"image/png":{"height":281,"width":394},"needs_background":"light"},"output_type":"execute_result"},"3":{"data":{"image/png":"0a9d79fef803720052bad7b17209200cb89db99b","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":72,"metadata":{"image/png":{"height":281,"width":394},"needs_background":"light"},"output_type":"execute_result"}},"pos":14,"type":"cell"}
{"cell_type":"code","exec_count":75,"id":"3ca199","input":"# Validating every decision tree at max performance\nbins = np.linspace(0, 1, 100)\nfor i, y in enumerate(y_all):\n    X_train,X_test,y_train,y_test = train_test_split(X,y,random_state=42, test_size=0.2)\n    model, score, scores = best_cross_model(DecisionTreeRegressor(max_depth=10), X_train, y_train, X_test, y_test, 20)\n    score = model.score(X_test,y_test)\n    plt.hist(scores, bins=bins)\n    plt.title(f\"Cross-validation scores for {y_cols[i]}\\nR2 score = {score}\")\n    plt.xlabel(\"R2 score\")\n    plt.ylabel(\"Frequency\")\n    plt.show()","output":{"0":{"data":{"image/png":"471a695cff133fb8478281ccd286483392b422c6","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":382},"needs_background":"light"},"output_type":"execute_result"},"1":{"data":{"image/png":"8d8c20f17ed313a50f58cd49b924b1773b2bf1cc","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":382},"needs_background":"light"},"output_type":"execute_result"},"10":{"data":{"image/png":"d55b59d1f63f6c724201b868ca4efa3aea1529a6","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":392},"needs_background":"light"},"output_type":"execute_result"},"11":{"data":{"image/png":"a19a850f3996ce13b58cb6e3e8d8d2d27e1c7236","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":382},"needs_background":"light"},"output_type":"execute_result"},"12":{"data":{"image/png":"f45553e1fd5b69ef536627371aa2a8f318feee03","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":382},"needs_background":"light"},"output_type":"execute_result"},"13":{"data":{"image/png":"12e73b5e2ad27c0aead3c2c1f515b94497a5f5d5","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":392},"needs_background":"light"},"output_type":"execute_result"},"14":{"data":{"image/png":"b14c8f10e1ec44520a07ef60c150bc0807b026a9","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":382},"needs_background":"light"},"output_type":"execute_result"},"15":{"data":{"image/png":"a97e70a304a99dd7dec001087fea6efdbae7d701","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":382},"needs_background":"light"},"output_type":"execute_result"},"16":{"data":{"image/png":"08c78fb9b335dbccfa1e848e8fa7c97b0383415c","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":392},"needs_background":"light"},"output_type":"execute_result"},"17":{"data":{"image/png":"ad974e59929a1730f1ca4574a5c82ea47672e82b","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":382},"needs_background":"light"},"output_type":"execute_result"},"18":{"data":{"image/png":"72fab1611647af3ae65120576194d9af810db1ce","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":392},"needs_background":"light"},"output_type":"execute_result"},"19":{"data":{"image/png":"e5a0817baf956d668b1582110ad70a46f824f1d8","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":382},"needs_background":"light"},"output_type":"execute_result"},"2":{"data":{"image/png":"4de4c7ba3c7da6058484e0937a171e9f54a2d4ba","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":382},"needs_background":"light"},"output_type":"execute_result"},"20":{"data":{"image/png":"253800ac2c304f14d46348e06d7174ac4dc2d49d","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":392},"needs_background":"light"},"output_type":"execute_result"},"3":{"data":{"image/png":"84cd66723ac1f1cd7c800694816e1e9cfb666a82","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":376},"needs_background":"light"},"output_type":"execute_result"},"4":{"data":{"image/png":"9f4ff153c5dd28bab5b0cbcd3db9cdeeb24985ee","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":382},"needs_background":"light"},"output_type":"execute_result"},"5":{"data":{"image/png":"fd98c9884a69d697be3fc739935a30204c67b0fb","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":382},"needs_background":"light"},"output_type":"execute_result"},"6":{"data":{"image/png":"803ac3b5f69e7f2eadc48a1a25f827d6d1698a33","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":392},"needs_background":"light"},"output_type":"execute_result"},"7":{"data":{"image/png":"d9f3c5439e87312d56b444e7176a93a50ef4efbd","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":382},"needs_background":"light"},"output_type":"execute_result"},"8":{"data":{"image/png":"fd15717ff1cb2319b0d1f0e8487be9ca6a8f3c30","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":382},"needs_background":"light"},"output_type":"execute_result"},"9":{"data":{"image/png":"e6f254618b80eed9d620533ace86535ef0dfc93b","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":75,"metadata":{"image/png":{"height":291,"width":414},"needs_background":"light"},"output_type":"execute_result"}},"pos":36,"scrolled":true,"type":"cell"}
{"cell_type":"code","exec_count":9,"id":"f750b3","input":"# Plot\nplt.hist(finalDataset[\"%PercentHighSchoolGraduateOrHigher\"])\n\n# Formatting\nplt.ylabel('# of Tracts',fontsize=13)\nplt.xlabel('% HS Graduate or Higher',fontsize=13)\nplt.title('Distribution of HS Graduation Status\\n',fontsize=15)\n\nplt.show()","output":{"0":{"data":{"image/png":"3fd6f45e0c79cac3e797247a61b9ee5697737e2b","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":9,"metadata":{"image/png":{"height":299,"width":405},"needs_background":"light"},"output_type":"execute_result"}},"pos":18,"scrolled":true,"type":"cell"}
{"cell_type":"code","exec_count":91,"id":"ae4e93","input":"bins = np.linspace(0, 1, 100)\n\n# Choosing just a few because this takes much longer to run and we run out of compute and memory resources very quickly\nparams = ['stroke%', 'depression%', 'badMentalHealth%', 'badPhysicalHealth%']\nys = [finalDataset[param] for param in params]\n\nfor i, y in enumerate(ys):\n    X_train, X_test, y_train, y_test = train_test_split(X,y,random_state=42, test_size=0.2)\n\n    # Low tree count model so that everything runs in a reasonable time while maintaining accuracy close enough to optimal\n    untrained_model = RandomForestRegressor(max_depth=15, n_estimators=10)\n    model, score, scores = best_cross_model(untrained_model, X_train, y_train, X_test, y_test, 20)\n    score = model.score(X_test,y_test)\n\n    # Manage memory\n    del X_train,X_test,y_train,y_test,model,untrained_model\n    plt.hist(scores, bins=bins)\n    plt.title(f\"Cross-validation scores for {params[i]}\\nR2 score = {score}\")\n    plt.xlabel(\"R2 score\")\n    plt.ylabel(\"Frequency\")\n    plt.show()","output":{"0":{"data":{"image/png":"1fa14c5dee21cafd221b7e4853094a63f304387e","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":91,"metadata":{"image/png":{"height":291,"width":382},"needs_background":"light"},"output_type":"execute_result"},"1":{"data":{"image/png":"8ec03648756438b23296432d546b4ce7e0e34ecb","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":91,"metadata":{"image/png":{"height":291,"width":382},"needs_background":"light"},"output_type":"execute_result"},"2":{"data":{"image/png":"7753f5d8ef9ce757b405dbaf2100d7839a02688b","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":91,"metadata":{"image/png":{"height":291,"width":392},"needs_background":"light"},"output_type":"execute_result"},"3":{"data":{"image/png":"1554e9ea85d5704c75c4ef3ed28b5d27e8ed14b6","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":91,"metadata":{"image/png":{"height":291,"width":382},"needs_background":"light"},"output_type":"execute_result"}},"pos":37,"scrolled":true,"type":"cell"}
{"cell_type":"markdown","id":"041449","input":"##### The first thing that stands out is the poorly fit line for the Asian plot. This looks like it's due to a combination of not enough datapoints and heteroskedastic data. Additionally, there appears to be only very small trends, which indicates that there isn't that strong of a correlation. It is notable, however, that there is a disturbing trend that an increase in % black is very linearly correlated with a decrease in physical health.\n\n##### We can also start looking at education data\n\n","pos":17,"type":"cell"}
{"cell_type":"markdown","id":"044a1d","input":"##### Imports\n\n","pos":1,"type":"cell"}
{"cell_type":"markdown","id":"07f782","input":"##### Next we will analyze factors that policy can impact to see if they are highly correlated with the health indicators, and if it would be worthwhile to incentivize improving these factors.\n\n","pos":38.5,"type":"cell"}
{"cell_type":"markdown","id":"37fb1a","input":"### Analysis Notebook\n\n","pos":0,"type":"cell"}
{"cell_type":"markdown","id":"3b2518","input":"##### We will now also see what all columns we are working with...\n\n","pos":6,"type":"cell"}
{"cell_type":"markdown","id":"6ccb4f","input":"##### Before we start our analysis, we need to add region information for each tract, as it was one of the things we wanted to explore\n\n","pos":10,"type":"cell"}
{"cell_type":"markdown","id":"72fe22","input":"##### In order to see which factors are truly the most important, we will make a Decision Tree model, and set the depth small enough that the model is easily interpretable. This will allow us to evaluate models more clearly.\n\n","pos":26,"type":"cell"}
{"cell_type":"markdown","id":"81a715","input":"##### All the models have extremely tight distributions, which means that they are picking up on the same trend no matter how much data is left out. This means that the models are not only fitting to the data, but also have the appropriate level of complexity to match the complexity of the true distribution.\n\n","pos":38,"type":"cell"}
{"cell_type":"markdown","id":"81b821","input":"##### The results are surprisingly good for aggregate measures like badMentalHealth% \\(R2 of 0.642\\) and badPhysicalHealth% \\(R2 of 0.633\\) but also quite bad for more specific measures like depression% \\(R2 of 0.259\\). Now that we know that the models tend not be racist\\(as our previous exploration showed that race shouldn't correlate very much\\), we can see how far we can push the trees before they overfit.\n\n","pos":29,"type":"cell"}
{"cell_type":"markdown","id":"81c9de","input":"##### Generate a heat map to look at the linear relationships in our data\n\n","pos":8,"type":"cell"}
{"cell_type":"markdown","id":"871d48","input":"##### First, we can look at trends across regions\n\n","pos":13,"type":"cell"}
{"cell_type":"markdown","id":"8f935b","input":"###### Taking the graphs one at a time:\n\n- Arthritis doesn't seem to have much of a correlation outside of a weak positive correlation with poverty \n- High Blood Pressure with poverty rates and HS graduation rates seems to have a similar distribution of data to poverty, which is that there is not a ton of correlation\n- Non Skin Cancer rates don't seem to be that affected by high school diploma attainment, but interestingly occur less frequently  when more people are below the poverty line. One potential explanation for this could be that poorer areas can't afford to be seen by a doctor, and thus the cancer goes undiagnosed and untreated. \n- There appears to be a positive correlation between asthma rates and poverty percentage, which may be attributed to the fact that dirtier living conditions have been proven to cause asthma.\n- There appears to be a slight positive correlation between coronary heart disease and poverty.     \n- \\-\\-\\- SO FAR, A COMMON THEME IS THAT COMMUNITIES WITH LOW HIGH SCHOOL GRADUATION RATES AND HIGH POVERTY RATES HAVE WORSE OUTCOMES THAN THE OTHER TRACTS\n- There appears to be a notable positive trend between poverty rate and Chronic Obstructive Pulmonary Disease\n- There doesn't seem to be much of a correlation between poverty and high school completion, and Depression\n- It seems that those with a high school education are less likely to get diabetes, but as poverty increases, the clusters of having a lot of high school graduates and not are differentiated quite noticeably\n- There seems to be no correlation between High Cholesterol and poverty or high school graduation status \n- There seems to be two major clusters of data, ones with high levels of high school educations and low levels. The higher levels of HS educations seem to lower the chance of chronic kidney disease.\n- It seems that there is a very strong, homoskedastic relationship between poverty and the percentage of mental health issues.\n- There seems to be a notably strong relationship between obesity and poverty.\n- Akin to the diabetes correlation, having more people high school educated mitigates the effect of poverty  on bad physical health percentage\n- There is a moderately strong correlation between poverty and stroke percentage, but tracts with more people with high school educations seem to have a lot less prevalence of stroke\n- There is a very strong correlation between poverty and the percentage of the population that lost all of their teeth\n\n","pos":22,"type":"cell"}
{"cell_type":"markdown","id":"944a2e","input":"##### Although the curve seems to fit pretty well, the residuals show that this relationship is actually extremely heteroskedastic. This means we need to find some way to determine with variables are actually good without needing to look at alot of graphs again.\n\n","pos":25,"type":"cell"}
{"cell_type":"markdown","id":"9b661a","input":"###### It is important to see the data first to get a sense of the values before beginning with model creation and fitting.\n\n","pos":4,"type":"cell"}
{"cell_type":"markdown","id":"a940e4","input":"##### We see that there are indeed some strong correlations between some of the \"fixable problems\" and health indicators, which we can further test\n\n","pos":39.5,"type":"cell"}
{"cell_type":"markdown","id":"acc1a0","input":"##### We can also test out a pair of variables that we intuitively assumed would have a good correlation and make sure that there is no heteroskedasticity.\n\n","pos":23,"type":"cell"}
{"cell_type":"markdown","id":"b84ab7","input":"### The high accuracy of models that use 'fixable problems' as their inputs implies that these disparities can be addressed.\n\n","pos":41.5,"type":"cell"}
{"cell_type":"markdown","id":"bf336f","input":"##### It looks like most tracts have high HS graduation rates, but those that have low graduation rates appear to have nearly double the rate of bad physical health.\n\n##### Next, we can examine specific health indicators, such as diabetes percentage, arthritis percentage, depression, and more.\n\n","pos":20,"type":"cell"}
{"cell_type":"markdown","id":"c0bf00","input":"##### It appears to be that the regions have about the same distributions of physical health, but the south seems to be shifted right slightly and with a noticeable increase in standard deviation. Overall, the difference is relatively small.\n\n##### Next, we can explore the correlation between race and health.\n\n","pos":15,"type":"cell"}
{"cell_type":"markdown","id":"c10330","input":"##### There is a very clear peak in testing accuracy in all the models that occurs around a max depth of 10. As the model increases in complexity past that point, the testing accuracy has a steep dropoff while the training accuracy continues to increase.\n\n##### Since the tree model still shows significant room to grow at its peak, we can try using random forests to fight overfitting.\n\n","pos":32,"type":"cell"}
{"cell_type":"markdown","id":"c7600b","input":"##### Here, we can see a completely different trend, where testing accuracy seems to hold constant as the max depth is increased. The peak performance for this model is noticeably shifted to a point of higher complexity without showing signs of significant overfitting.\n\n##### Now that we know how far we can push each model, we can validate that they haven't been getting lucky train\\-test splits and that they are indeed generalizing a trend with cross\\-validation.\n\n","pos":34,"type":"cell"}
{"exec_count":73,"id":"ae9b32","input":"# Avoidable issues tat may impact health outcomes\nfixableProblems=['noHealthInsurance%', 'routineCheckUp%',\n       'cholestorolScreening%', 'colonScreening%',\n       'menUpToDateOnVaccinesAndScreenings%',\n       'womenUpToDateOnVaccinesAndScreenings%', 'currentSmoking%', 'noLeisurelyPhysicalActivity%', 'mammographyUseWomen%',\n       'lessThan7HoursOfSleep%','routineDentalCheckup%']\n\n\n# Health outcomes to check the above factors against\nhealthIndicators=['arthritis%','coronaryHeartDisease%',\n        'depression%', 'diabetes%', 'chronicKidneyDisease%',\n       'badMentalHealth%', 'obesity%', 'badPhysicalHealth%','stroke%']\n\n# Generate a heatmap of similarity between health indicators and both specific and aggregate health outcomes\n# Correlation matrix is absolute valued because negative correlation is just as useful as positive\nsns.heatmap(np.abs(finalDataset[fixableProblems + healthIndicators].corr().loc[fixableProblems, healthIndicators]))\nplt.title(\"Linear Correlations Between Fixable Problems and Health Indicators\", fontsize=14)\nplt.show()","kernel":"python3","output":{"0":{"data":{"image/png":"fc2c5b8397c5b649b34923754f0fcf35683b0e7e","text/plain":"<Figure size 432x288 with 2 Axes>"},"metadata":{"image/png":{"height":377,"width":619},"needs_background":"light"}}},"pos":39,"state":"done","type":"cell"}
{"exec_count":84,"id":"117eae","input":"X = finalDataset[['currentSmoking%', 'noLeisurelyPhysicalActivity%', 'lessThan7HoursOfSleep%', 'routineDentalCheckup%','cholestorolScreening%', 'colonScreening%']]\nycols=['arthritis%','coronaryHeartDisease%','depression%', 'diabetes%', 'chronicKidneyDisease%','badMentalHealth%', 'obesity%', 'badPhysicalHealth%','stroke%','income']\n\n#Screenings was the difference\nfor col in ycols:\n    y = col\n    # Set up variables\n    X_train, X_test, y_train, y_test = train_test_split(X, finalDataset[y], random_state=42, test_size=0.2)\n\n    # Try model using these parameters as inputs\n    forest = RandomForestRegressor(max_depth=13, n_estimators=20, n_jobs=-1)\n    forest.fit(X_train, y_train)\n    print(f\"{col} accuracy: {forest.score(X_test,y_test)}\\n\")","kernel":"python3","output":{"0":{"name":"stdout","text":"arthritis% accuracy: 0.8178900012699505\n\n"},"1":{"name":"stdout","text":"coronaryHeartDisease% accuracy: 0.8037589861976415\n\n"},"2":{"name":"stdout","text":"depression% accuracy: 0.7092398648740601\n\n"},"3":{"name":"stdout","text":"diabetes% accuracy: 0.8845168145932837\n\n"},"4":{"name":"stdout","text":"chronicKidneyDisease% accuracy: 0.8200339937083475\n\n"},"5":{"name":"stdout","text":"badMentalHealth% accuracy: 0.918747254105554\n\n"},"6":{"name":"stdout","text":"obesity% accuracy: 0.826028724438666\n\n"},"7":{"name":"stdout","text":"badPhysicalHealth% accuracy: 0.905352997787228\n\n"},"8":{"name":"stdout","text":"stroke% accuracy: 0.8590161559927325\n\n"},"9":{"name":"stdout","text":"income accuracy: 0.7838932129240588\n\n"}},"pos":40.5,"state":"done","type":"cell"}
{"id":0,"time":1658961513260,"type":"user"}
{"last_load":1658960809869,"type":"file"}